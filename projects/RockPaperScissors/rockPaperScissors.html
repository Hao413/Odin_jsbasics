<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
</head>

<body>

    <!-- Buttons will be used later (UI step) -->
    <button>Rock</button>
    <button>Paper</button>
    <button>Scissors</button>

    <div id="results"></div>

    <script>
        /*
        PROJECT: Rock Paper Scissors
        Game is played against the computer
        */

        /* --------------------------------------------------
           STEP 1: Create a function to get computer choice
           - Function name: getComputerChoice
           - Randomly returns: "rock", "paper", or "scissors"
           - Use Math.random()
        -------------------------------------------------- */

        function getComputerChoice() {
            let i = Math.random();

            if (i <= 0.33) {
                return "rock";
            } else if (i <= 0.66) {
                return "paper";
            } else {
                return "scissors";
            }
        }

        // console.log(getComputerChoice());


        /* --------------------------------------------------
           STEP 2: Create a function to get human choice
           - Function name: getHumanChoice
           - Use prompt() to ask the user
           - Make input case-insensitive
           - Only allow valid choices
        -------------------------------------------------- */

        function getHumanChoice() {
            let choice = prompt("Choose rock, paper, or scissors");

            if (!choice) return null;

            choice = choice.toLowerCase();

            if (choice !== "rock" && choice !== "paper" && choice !== "scissors") {
                alert("Choice must be rock, paper, or scissors");
                return null;
            }

            return choice;
        }

        // console.log(getHumanChoice());


        /* --------------------------------------------------
           STEP 3: Create score variables
           - humanScore
           - computerScore
        -------------------------------------------------- */

        let humanScore = 0;
        let computerScore = 0;


        /* --------------------------------------------------
           STEP 4: Create a function to play a single round
           - Function name: playRound
           - Parameters:
             - humanChoice
             - computerChoice
           - Determines winner
           - Increments score
           - Logs result
        -------------------------------------------------- */

        function playRound(humanChoice, computerChoice) {
            if (humanChoice === computerChoice) {
                return "It's a tie!";
            }

            const humanWins =
                (humanChoice === "rock" && computerChoice === "scissors") ||
                (humanChoice === "paper" && computerChoice === "rock") ||
                (humanChoice === "scissors" && computerChoice === "paper");

            if (humanWins) {
                humanScore++;
                return `You win! ${humanChoice} beats ${computerChoice}`;
            } else {
                computerScore++;
                return `You lose! ${computerChoice} beats ${humanChoice}`;
            }
        }

        /* --------------------------------------------------
           STEP 6 (Later): Add UI with buttons
           - Replace prompt() with buttons
           - Use event listeners
           - Display score on the page
        -------------------------------------------------- */

        const resultsDiv = document.querySelector("#results");
        const btn = document.querySelectorAll("button");

        btn.forEach((b => {
            b.addEventListener("click", () => {
                if (humanScore === 5 || computerScore === 5) return;

                const humanChoice = b.textContent.toLowerCase();
                const computerChoice = getComputerChoice();

                const result = playRound(humanChoice, computerChoice);

                resultsDiv.innerHTML = `
                    <p>${result}</p>
                    <p>Score: YOU ${humanScore} - Computer ${computerScore}</p>`;

                if (humanScore === 5) {
                    resultsDiv.innerHTML += "<p><strong>You win the game!</strong></p>";
                } else if (computerScore === 5) {
                    resultsDiv.innerHTML += "<p><strong>Computer wins the game!</strong></p>";
                }
            });
        }));

        resultsDiv.innerHTML +=
            `<p>Score â€” You: ${humanScore} | Computer: ${computerScore}</p>`;


    </script>
</body>

</html>